package rivinec

import (
	"math/big"
	"testing"

	"github.com/rivine/rivine/types"
)

func TestCurrencyUnits(t *testing.T) {
	tests := []struct {
		in, out string
	}{
		{"1", "1 H"},
		{"1000", "1000 H"},
		{"100000000000", "100000000000 H"},
		{"1000000000000", "1 p"},
		{"1234560000000", "1.235 p"},
		{"12345600000000", "12.35 p"},
		{"123456000000000", "123.5 p"},
		{"1000000000000000", "1 n"},
		{"1000000000000000000", "1 u"},
		{"1000000000000000000000", "1 m"},
		{"1000000000000000000000000", "1 C"},
		{"1000000000000000000000000000", "1 K"},
		{"1000000000000000000000000000000", "1 M"},
		{"1000000000000000000000000000000000", "1 G"},
		{"1000000000000000000000000000000000000", "1 T"},
		{"1234560000000000000000000000000000000", "1.235 T"},
		{"1234560000000000000000000000000000000000", "1235 T"},
	}
	for _, test := range tests {
		i, _ := new(big.Int).SetString(test.in, 10)
		out := CurrencyUnits(types.NewCurrency(i))
		if out != test.out {
			t.Errorf("currencyUnits(%v): expected %v, got %v", test.in, test.out, out)
		}
	}
}
